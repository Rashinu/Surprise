<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cennet Eda ğŸ’•</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background-color: black;
    color: white;
    overflow-x: hidden;
  }
  #canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 0;
  }
  #content {
    position: relative;
    z-index: 10;
    text-align: center;
    padding: 5% 2%;
  }
  h1 {
    font-size: 2em;
    color: pink;
    margin-bottom: 20px;
  }
  #mesaj, #timeline {
    margin: 10px auto;
    max-width: 95%;
    white-space: pre-line;
    word-wrap: break-word;
  }
  #mesaj { font-size: 1.2em; }
  #timeline { font-size: 1em; color: lightpink; }

  #image-container {
    margin-top: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    justify-items: center;
  }
  .photo {
    width: 100%;
    max-width: 220px;
    aspect-ratio: 1/1;
    border-radius: 15px;
    object-fit: cover;
    box-shadow: 0 0 15px pink;
    opacity: 0;
    transition: opacity 1.5s ease-in;
  }
  .photo.show { opacity: 1; }

  button {
    font-size: 1em;
    padding: 12px 20px;
    margin: 10px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    min-width: 140px;
  }
  #surprise-btn { background-color: deeppink; color: white; }
  #replay-btn { background-color: hotpink; color: white; display: none; }
  #mute-btn { background-color: gray; color: white; }

  #footer {
    position: fixed;
    bottom: 10px;
    width: 100%;
    text-align: center;
    color: lightpink;
    font-size: 0.9em;
  }

  @media (max-width: 500px) {
    h1 { font-size: 1.5em; }
    #mesaj { font-size: 1em; }
    #timeline { font-size: 0.9em; }
    button { font-size: 0.9em; padding: 10px 15px; min-width: 120px; }
  }
</style>
</head>
<body>

<audio id="muzik" src="sarki.mp3" loop></audio>
<canvas id="canvas"></canvas>

<div id="content">
  <h1>ğŸŒ¹ SÃ¼rpriz ZamanÄ± ğŸŒ¹</h1>
  <div id="mesaj"></div>
  <div id="timeline"></div>
  <div id="image-container"></div>
  <button id="surprise-btn">ğŸ’Œ SÃ¼rprizi GÃ¶ster ğŸ’Œ</button>
  <button id="replay-btn">ğŸ” Tekrar Oynat</button>
  <button id="mute-btn">ğŸ”‡ Sessize Al</button>
</div>

<div id="footer">Cennet Eda iÃ§in hazÄ±rlanmÄ±ÅŸtÄ±r ğŸ’</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const isim = "Cennet Eda";
const tanisma_tarih = new Date(2025,7,14);
const sevgili_tarih = new Date(2025,7,14);
const bugun = new Date();
let birlikte_gun = Math.floor((bugun-sevgili_tarih)/(1000*60*60*24));
if(birlikte_gun<0) birlikte_gun=0;

const mesajlar = [
  "Sen benim en gÃ¼zel tesadÃ¼fÃ¼msÃ¼n ğŸ’«",
  "Kalbim hep seninle atÄ±yor ğŸ’“",
  "Ä°yi ki varsÄ±n, iyi ki benimlesin ğŸ’",
  "Seninle her gÃ¼n yeniden aÅŸÄ±k oluyorum ğŸ’–",
  "GÃ¶zlerine baktÄ±ÄŸÄ±mda dÃ¼nyayÄ± unutuyorum ğŸ’"
];

const fotoListesi = ["foto1.jpg","foto2.jpg","foto3.jpg","foto4.jpg"];

const renkler = ["pink","lightpink","white"];
const sekiller = ["â­","ğŸ’–","âœ¨","ğŸŒ¸","ğŸ’«"];
let objeler = [];
for(let i=0;i<30;i++){
  objeler.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    size: 14+Math.random()*10,
    text: sekiller[Math.floor(Math.random()*sekiller.length)],
    color: renkler[Math.floor(Math.random()*renkler.length)],
    speed: 0.5+Math.random()*1.5
  });
}
function animasyon(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  objeler.forEach(obj=>{
    ctx.font=`${obj.size}px Arial`;
    ctx.fillStyle=obj.color;
    ctx.fillText(obj.text,obj.x,obj.y);
    obj.y+=obj.speed;
    if(obj.y>canvas.height)obj.y=-10;
  });
  requestAnimationFrame(animasyon);
}
animasyon();

// MÃ¼zik
const muzik=document.getElementById('muzik');
muzik.volume=0;
const muteBtn=document.getElementById('mute-btn');
muteBtn.addEventListener('click',()=>{muzik.muted=!muzik.muted; muteBtn.textContent=muzik.muted?"ğŸ”Š AÃ§":"ğŸ”‡ Sessize Al";});
async function muzikBaslat(){
  try{
    await muzik.play();
    muzik.loop=true;
    let v=0;
    const fade=setInterval(()=>{
      v+=0.05;
      if(v>=1){v=1; clearInterval(fade);}
      muzik.volume=v;
    },100);
  }catch(e){console.log("MÃ¼zik oynatÄ±lamadÄ±:",e);}
}

// Animasyonlu yazÄ±
function animasyonYaz(el,txt,hiz=50){
  return new Promise(resolve=>{
    el.textContent="";
    let i=0;
    function step(){if(i<=txt.length){el.textContent=txt.slice(0,i);i++;setTimeout(step,hiz);}else resolve();}
    step();
  });
}

// Zaman Ã§izelgesi
async function zamanCizelgesiGoster(el){
  const zamanlar=[
    `ğŸ“… TanÄ±ÅŸma Tarihi: ${tanisma_tarih.toLocaleDateString('tr-TR',{day:'2-digit', month:'long', year:'numeric'})}`,
    `ğŸ’ Sevgili OlduÄŸumuz GÃ¼n: ${sevgili_tarih.toLocaleDateString('tr-TR',{day:'2-digit', month:'long', year:'numeric'})}`,
    `ğŸŒ¸ BugÃ¼n: ${bugun.toLocaleDateString('tr-TR',{day:'2-digit', month:'long', year:'numeric'})}`
  ];
  el.textContent="";
  for(let z of zamanlar){ el.textContent+=z+"\n"; await new Promise(r=>setTimeout(r,1000)); }
}

// FotoÄŸraf gÃ¶sterimi
async function fotoGoster(container,index){
  if(index>=fotoListesi.length) return;
  const img=document.createElement('img');
  img.src=fotoListesi[index];
  img.className="photo";
  container.appendChild(img);
  setTimeout(()=>img.classList.add('show'),50);
  await new Promise(r=>setTimeout(r,500));
}

// Ana sÃ¼rpriz fonksiyonu
const mesajDiv=document.getElementById('mesaj');
const timelineDiv=document.getElementById('timeline');
const surpriseBtn=document.getElementById('surprise-btn');
const replayBtn=document.getElementById('replay-btn');
const imageContainer=document.getElementById('image-container');

async function surprizBaslat(){
  await muzikBaslat();
  surpriseBtn.disabled=true;
  imageContainer.innerHTML="";
  await animasyonYaz(mesajDiv,`ğŸ’– Merhaba ${isim} ğŸ’–`,80);
  await fotoGoster(imageContainer,0);
  await animasyonYaz(mesajDiv,`${birlikte_gun} gÃ¼ndÃ¼r seninle hayat daha gÃ¼zel ğŸ’`,60);
  await fotoGoster(imageContainer,1);
  const secilen=mesajlar[Math.floor(Math.random()*mesajlar.length)];
  await animasyonYaz(mesajDiv,secilen,60);
  await fotoGoster(imageContainer,2);
  await animasyonYaz(mesajDiv,"Seni Ã‡ok Seviyorum ğŸ’˜",80);
  await fotoGoster(imageContainer,3);
  await zamanCizelgesiGoster(timelineDiv);
  replayBtn.style.display="inline-block";
}

surpriseBtn.addEventListener('click',surprizBaslat);
replayBtn.addEventListener('click',async()=>{
  replayBtn.style.display="none";
  timelineDiv.textContent="";
  mesajDiv.textContent="";
  imageContainer.innerHTML="";
  surpriseBtn.disabled=false;
  await surprizBaslat();
});
</script>
</body>
</html>
